
<!doctype html>
<html lang="zh-cn">

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
<meta name="format-detection" content="telephone=no" />
<title>自定义 JSAPI</title>
</head>

<body>
<button id="J_Custom_Jsapi1">brightness</button> <br />
<button id="J_Custom_Jsapi2">recoverbrightness</button> <br />
<button id="J_Custom_Jsapi3">location_baidu</button> <br />
<button id="J_Custom_Jsapi4">sms</button> <br />
<button id="J_Custom_Jsapi5">browser</button> <br />
<button id="J_Custom_Jsapi6">exitapp</button> <br />
<button id="J_Custom_Jsapi7">canOpenApp</button> <br />
<button id="J_Custom_Jsapi8">openApp</button> <br />
<button id="J_Custom_Jsapi9">encript</button> <br />
<button id="J_Custom_Jsapi10">location_gaode</button> <br />
<button id="J_Custom_Jsapi11">navigateByThird</button> <br />
<button id="J_Custom_Jsapi12">pickPicture</button> <br />
<button id="J_Custom_Jsapi13">pasteFromClipboard</button> <br />
<button id="J_Custom_Jsapi14">copy2clipboard</button> <br />
<button id="J_Custom_Jsapi15">clearClipboard</button> <br />
</body>

<script>
    function ready(callback) {
    // 如果 jsbridge 已经注入则直接调用
        if (window.AlipayJSBridge) {
            callback && callback();
        } else {
            // 如果没有注入则监听注入的事件
            document.addEventListener('AlipayJSBridgeReady', callback, false);
        }
    }
    

    ready(function () {
        var jsapiNode = document.getElementById('J_Custom_Jsapi1');
        jsapiNode.addEventListener('click', function () {
            AlipayJSBridge.call('changeScreenBrightness', {
                value:0.5
            }, function (result) {
                console.log(result.status);
                alert(JSON.stringify(result));
            });
        });
        var jsapiNode2 = document.getElementById('J_Custom_Jsapi2');
        jsapiNode2.addEventListener('click', function () {
            AlipayJSBridge.call('recoverScreenBrightness',function (result) {
                console.log(result.status);
                alert(JSON.stringify(result));
            });
        });
        var jsapiNode3 = document.getElementById('J_Custom_Jsapi3');
        jsapiNode3.addEventListener('click', function () {
            AlipayJSBridge.call('location', {
                source:0
            },function(result) {
                console.log(result.longitude);
                console.log(result.latitude);
                console.log(result.cityCode);
                console.log(result.province);
                console.log(result.city);
                alert(JSON.stringify(result));
            });
        });
        var jsapiNode4 = document.getElementById('J_Custom_Jsapi4');
        jsapiNode4.addEventListener('click', function () {
            AlipayJSBridge.call('sms', {
                phoneNumber:'1111',content:'test'
            },function(result) {
                console.log(result.returnApp);
                alert(JSON.stringify(result));
            });
        });

        var jsapiNode5 = document.getElementById('J_Custom_Jsapi5');
        jsapiNode5.addEventListener('click', function () {
            AlipayJSBridge.call('browser', {
                url:"https://www.baidu.com",
            });
        });
        var jsapiNode6 = document.getElementById('J_Custom_Jsapi6');
        jsapiNode6.addEventListener('click', function () {
            AlipayJSBridge.call('abcExitApp', {
            });
        });
        var jsapiNode7 = document.getElementById('J_Custom_Jsapi7');
        jsapiNode7.addEventListener('click', function () {
            AlipayJSBridge.call('canOpenApp', {
              url:"sms://"
            },function(result) {
              console.log(result.canOpen);
              alert(JSON.stringify(result));
            });
        });
        var jsapiNode8 = document.getElementById('J_Custom_Jsapi8');
        jsapiNode8.addEventListener('click', function () {
            AlipayJSBridge.call('openApp', {
              url:"sms://"
            },function(result) {
              console.log(result.canOpen);
              alert(JSON.stringify(result));
            });
        });
        var jsapiNode9 = document.getElementById('J_Custom_Jsapi9');
        jsapiNode9.addEventListener('click', function () {
            AlipayJSBridge.call('AESencrypt', {
                content:"13571664231|202012071025022275",key:"+eBIOFA0QCobx8xocPFZa+Es6TRG83A/ZEES1kiJPXAJZjowOJ53K58w6Ak9IBOd"
            },function(result) {
                console.log(result.encryptedContent);
                alert(JSON.stringify(result));
            });
        });
        var jsapiNode10 = document.getElementById('J_Custom_Jsapi10');
        jsapiNode10.addEventListener('click', function () {
            AlipayJSBridge.call('location', {
                source:1
            },function(result) {
                console.log(result.longitude);
                console.log(result.latitude);
                console.log(result.cityCode);
                console.log(result.province);
                console.log(result.city);
                alert(JSON.stringify(result));
            });
        });
        var jsapiNode11 = document.getElementById('J_Custom_Jsapi11');
        jsapiNode11.addEventListener('click', function () {
            AlipayJSBridge.call('navigateByThird', {
                longitude: 116.5021847626953,latitude:39.91178704506131
            });
        });

        var jsapiNode12 = document.getElementById('J_Custom_Jsapi12');
        jsapiNode12.addEventListener('click', function () {
            AlipayJSBridge.call('abcPickPicture', function(result) {
                console.log(result.image64);
                alert(JSON.stringify(result));
            });
        });

        var jsapiNode13 = document.getElementById('J_Custom_Jsapi13');
        jsapiNode13.addEventListener('click', function () {
            AlipayJSBridge.call('pasteFromClipboard'
                , function (result) {
                console.log(result.content);
                alert(JSON.stringify(result));
            });
        });

        var jsapiNode14 = document.getElementById('J_Custom_Jsapi14');
        jsapiNode14.addEventListener('click', function () {
            AlipayJSBridge.call('copy2clipboard', {
                copiedString:'xxxxx'
            });
        });

        var jsapiNode15 = document.getElementById('J_Custom_Jsapi15');
        jsapiNode15.addEventListener('click', function () {
            AlipayJSBridge.call('clearClipboard')
        });
    });
</script>

</html>
